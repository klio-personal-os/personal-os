<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mission Control - Multi-Agent Dashboard</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Left Sidebar Navigation -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo-icon">üéØ</div>
                <h1 class="logo-text">Mission Control</h1>
            </div>
            
            <nav class="sidebar-nav">
                <a href="#" class="nav-item active" data-page="dashboard">
                    <span class="nav-icon">üìä</span>
                    <span class="nav-label">Dashboard</span>
                </a>
                <a href="#" class="nav-item" data-page="agents">
                    <span class="nav-icon">ü§ñ</span>
                    <span class="nav-label">Agents</span>
                </a>
                <a href="#" class="nav-item" data-page="tasks">
                    <span class="nav-icon">üìã</span>
                    <span class="nav-label">Tasks</span>
                </a>
                <a href="#" class="nav-item" data-page="memory">
                    <span class="nav-icon">üß†</span>
                    <span class="nav-label">Memory</span>
                </a>
                <a href="#" class="nav-item" data-page="activity">
                    <span class="nav-icon">üì°</span>
                    <span class="nav-label">Activity</span>
                </a>
                <a href="#" class="nav-item" data-page="config">
                    <span class="nav-icon">‚öôÔ∏è</span>
                    <span class="nav-label">Config</span>
                </a>
                <a href="#" class="nav-item" data-page="reports">
                    <span class="nav-icon">üìã</span>
                    <span class="nav-label">Reports</span>
                </a>
            </nav>

            <div class="sidebar-footer">
                <div class="user-info">
                    <div class="user-avatar">üéØ</div>
                    <div class="user-details">
                        <span class="user-name">Mission Control</span>
                        <span class="user-status online">‚óè <span id="agent-count">5</span> agents</span>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Top Header -->
            <header class="top-header">
                <div class="header-left">
                    <h1 class="page-title" id="page-title">Dashboard</h1>
                </div>
                <div class="header-right">
                    <span class="system-status">
                        <span class="status-dot active"></span>
                        <span class="status-text">System Online</span>
                    </span>
                    <span class="clock" id="clock"></span>
                </div>
            </header>

            <!-- Content Area -->
            <div class="content-area">
                <!-- Dashboard View -->
                <div class="view active" id="view-dashboard">
                    <!-- Stats Overview -->
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">ü§ñ</div>
                            <div class="stat-info">
                                <span class="stat-value" id="total-agents">--</span>
                                <span class="stat-label">Total Agents</span>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">‚úÖ</div>
                            <div class="stat-info">
                                <span class="stat-value" id="active-agents">--</span>
                                <span class="stat-label">Active</span>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">üìã</div>
                            <div class="stat-info">
                                <span class="stat-value" id="total-tasks">--</span>
                                <span class="stat-label">Tasks</span>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">‚ö°</div>
                            <div class="stat-info">
                                <span class="stat-value" id="pending-tasks">--</span>
                                <span class="stat-label">In Progress</span>
                            </div>
                        </div>
                    </div>

                    <!-- Agent Grid Overview -->
                    <div class="section">
                        <div class="section-header">
                            <h2>Agent Team</h2>
                            <button class="btn btn-secondary" onclick="app.navigateTo('agents')">View All ‚Üí</button>
                        </div>
                        <div class="agents-quick-grid" id="agents-quick-grid">
                            <!-- Agent cards populated by JS -->
                        </div>
                    </div>

                    <!-- Activity & Tasks Row -->
                    <div class="cards-row">
                        <!-- Recent Activity -->
                        <div class="card">
                            <div class="card-header">
                                <h3>Recent Activity</h3>
                                <button class="card-action" onclick="app.navigateTo('activity')">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M23 4v6h-6M1 20v-6h6"/>
                                    </svg>
                                </button>
                            </div>
                            <div class="card-content">
                                <div class="activity-feed" id="dashboard-activity">
                                    <!-- Activity items populated by JS -->
                                </div>
                            </div>
                        </div>

                        <!-- Inbox Tasks -->
                        <div class="card">
                            <div class="card-header">
                                <h3>Inbox</h3>
                                <button class="btn btn-primary btn-sm" onclick="app.showTaskModal()">+ New Task</button>
                            </div>
                            <div class="card-content">
                                <div class="inbox-tasks" id="inbox-preview">
                                    <!-- Inbox tasks populated by JS -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Agents View -->
                <div class="view" id="view-agents">
                    <div class="view-header">
                        <div>
                            <h2>Agent Management</h2>
                            <p>Control and configure your agent team</p>
                        </div>
                        <div class="view-actions">
                            <button class="btn btn-primary" onclick="app.startAllAgents()">‚ñ∂Ô∏è Start All</button>
                            <button class="btn btn-danger" onclick="app.stopAllAgents()">‚èπÔ∏è Stop All</button>
                        </div>
                    </div>

                    <div class="agents-grid" id="agents-grid">
                        <!-- Agent cards populated by JS -->
                    </div>
                </div>

                <!-- Tasks View (Kanban) -->
                <div class="view" id="view-tasks">
                    <div class="view-header">
                        <div>
                            <h2>Task Board</h2>
                            <p>Manage and track agent tasks</p>
                        </div>
                        <div class="view-actions">
                            <button class="btn btn-primary" onclick="app.showTaskModal()">+ New Task</button>
                        </div>
                    </div>

                    <div class="kanban-board" id="kanban-board">
                        <!-- Kanban columns populated by JS -->
                    </div>
                </div>

                <!-- Memory View -->
                <div class="view" id="view-memory">
                    <div class="view-header">
                        <div>
                            <h2>Memory & Context</h2>
                            <p>View and edit agent memories and context</p>
                        </div>
                        <div class="view-actions">
                            <button class="btn btn-secondary" onclick="app.refreshMemory()">üîÑ Refresh</button>
                        </div>
                    </div>

                    <div class="memory-grid">
                        <!-- Working.md Files -->
                        <div class="memory-section">
                            <h3>üìù Working Memory</h3>
                            <div class="memory-files" id="working-files">
                                <!-- Files populated by JS -->
                            </div>
                        </div>

                        <!-- Daily Notes -->
                        <div class="memory-section">
                            <h3>üìÖ Daily Notes</h3>
                            <div class="memory-files" id="daily-notes">
                                <!-- Notes populated by JS -->
                            </div>
                        </div>

                        <!-- Long-term Memory -->
                        <div class="memory-section">
                            <h3>üß† Long-term Memory</h3>
                            <div class="memory-file-card" onclick="app.openMemoryFile('MEMORY.md')">
                                <span class="file-icon">üìÑ</span>
                                <span class="file-name">MEMORY.md</span>
                            </div>
                        </div>

                        <!-- Configuration -->
                        <div class="memory-section">
                            <h3>‚öôÔ∏è Configuration</h3>
                            <div class="memory-files" id="config-files">
                                <div class="memory-file-card" onclick="app.openMemoryFile('SOUL.md')">
                                    <span class="file-icon">üìÑ</span>
                                    <span class="file-name">SOUL.md</span>
                                </div>
                                <div class="memory-file-card" onclick="app.openMemoryFile('AGENTS.md')">
                                    <span class="file-icon">üìÑ</span>
                                    <span class="file-name">AGENTS.md</span>
                                </div>
                                <div class="memory-file-card" onclick="app.openMemoryFile('TOOLS.md')">
                                    <span class="file-icon">üìÑ</span>
                                    <span class="file-name">TOOLS.md</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Activity View -->
                <div class="view" id="view-activity">
                    <div class="view-header">
                        <div>
                            <h2>Activity Feed</h2>
                            <p>Real-time stream of agent activity</p>
                        </div>
                        <div class="view-actions">
                            <button class="btn btn-secondary" onclick="app.toggleActivityStream()">
                                <span id="stream-toggle-text">‚è∏Ô∏è Pause</span>
                            </button>
                        </div>
                    </div>

                    <div class="activity-stream" id="activity-stream">
                        <!-- Activity items populated by JS -->
                    </div>
                </div>

                <!-- Config View -->
                <div class="view" id="view-config">
                    <div class="view-header">
                        <div>
                            <h2>Configuration</h2>
                            <p>Manage agent schedules and settings</p>
                        </div>
                    </div>

                    <div class="config-sections">
                        <!-- Cron Schedules -->
                        <div class="config-section">
                            <h3>‚è∞ Cron Schedules</h3>
                            <div class="cron-list" id="cron-list">
                                <!-- Cron jobs populated by JS -->
                            </div>
                            <button class="btn btn-secondary" onclick="app.addCronJob()">+ Add Schedule</button>
                        </div>

                        <!-- Session Keys -->
                        <div class="config-section">
                            <h3>üîë Session Keys</h3>
                            <div class="session-keys" id="session-keys">
                                <!-- Session keys populated by JS -->
                            </div>
                        </div>

                        <!-- Heartbeat Config -->
                        <div class="config-section">
                            <h3>üíì Heartbeat Settings</h3>
                            <div class="setting-item">
                                <div class="setting-info">
                                    <span class="setting-label">Heartbeat Interval</span>
                                    <span class="setting-desc">How often to check for updates</span>
                                </div>
                                <div class="setting-control">
                                    <select class="setting-select">
                                        <option value="15">15 minutes</option>
                                        <option value="30" selected>30 minutes</option>
                                        <option value="60">1 hour</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Reports View -->
                <div class="view" id="view-reports">
                    <div class="view-header">
                        <div>
                            <h2>Agent Reports</h2>
                            <p>What your agents are working on</p>
                        </div>
                        <div class="view-actions">
                            <button class="btn btn-secondary" onclick="app.refreshReports()">üîÑ Refresh</button>
                        </div>
                    </div>

                    <!-- Agent Reports Grid -->
                    <div class="reports-grid" id="reports-grid">
                        <!-- Agent reports populated by JS -->
                    </div>

                    <!-- Activity Feed -->
                    <div class="section">
                        <div class="section-header">
                            <h2>Recent Activity</h2>
                        </div>
                        <div class="reports-activity" id="reports-activity">
                            <!-- Activity items populated by JS -->
                        </div>
                    </div>

                    <!-- Product Ideas -->
                    <div class="section" id="ideas-section" style="display: none;">
                        <div class="section-header">
                            <h2>üí° Product Ideas</h2>
                        </div>
                        <div class="ideas-list" id="ideas-list">
                            <!-- Ideas populated by JS -->
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Task Modal -->
    <div class="modal" id="task-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Create New Task</h3>
                <button class="modal-close" onclick="app.closeTaskModal()">√ó</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Task Title</label>
                    <input type="text" id="task-title" placeholder="Enter task title...">
                </div>
                <div class="form-group">
                    <label>Description</label>
                    <textarea id="task-description" placeholder="Task description..."></textarea>
                </div>
                <div class="form-group">
                    <label>Assign To</label>
                    <select id="task-assignee">
                        <option value="">Unassigned</option>
                        <!-- Options populated by JS -->
                    </select>
                </div>
                <div class="form-group">
                    <label>Priority</label>
                    <select id="task-priority">
                        <option value="low">Low</option>
                        <option value="medium" selected>Medium</option>
                        <option value="high">High</option>
                        <option value="urgent">Urgent</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="app.closeTaskModal()">Cancel</button>
                <button class="btn btn-primary" onclick="app.createTask()">Create Task</button>
            </div>
        </div>
    </div>

    <!-- Agent Detail Modal -->
    <div class="modal" id="agent-modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3 id="agent-modal-title">Agent Details</h3>
                <button class="modal-close" onclick="app.closeAgentModal()">√ó</button>
            </div>
            <div class="modal-body">
                <div class="agent-detail-grid">
                    <div class="agent-info-section">
                        <h4>Status</h4>
                        <div class="agent-status-badge" id="agent-status-badge">Active</div>
                        <div class="agent-current-task" id="agent-current-task">No task assigned</div>
                    </div>
                    <div class="agent-info-section">
                        <h4>Session Key</h4>
                        <code class="session-key-display" id="agent-session-key">agent:main:main</code>
                    </div>
                    <div class="agent-info-section">
                        <h4>Quick Actions</h4>
                        <div class="agent-actions">
                            <button class="btn btn-primary btn-sm" id="agent-start-btn" onclick="app.toggleAgentStatus()">‚ñ∂Ô∏è Start</button>
                            <button class="btn btn-secondary btn-sm" onclick="app.viewAgentSoul()">üìù SOUL.md</button>
                            <button class="btn btn-secondary btn-sm" onclick="app.viewAgentConfig()">‚öôÔ∏è Config</button>
                        </div>
                    </div>
                </div>
                <div class="agent-working-memory">
                    <h4>Working Memory</h4>
                    <textarea id="agent-working-content" class="working-memory-editor" placeholder="WORKING.md content..."></textarea>
                </div>
            </div>
        </div>
    </div>

    <!-- Memory Editor Modal -->
    <div class="modal" id="memory-modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h3 id="memory-modal-title">Edit Memory</h3>
                <button class="modal-close" onclick="app.closeMemoryModal()">√ó</button>
            </div>
            <div class="modal-body">
                <textarea id="memory-editor" class="memory-editor" placeholder="File content..."></textarea>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="app.closeMemoryModal()">Cancel</button>
                <button class="btn btn-primary" onclick="app.saveMemoryFile()">Save Changes</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
